<!-- このドキュメントは .github/prompts/doc-sync.prompt.md によって生成および更新されています -->

# コーディング規約

## 基本原則

- **型ヒントの徹底**: すべての関数とメソッドに型ヒントを付与し、`mypy` による静的解析をパスさせること。
- **非同期処理**: I/O 待ちが発生する処理（API 呼び出し、DB 操作）は `async/await` を使用すること。
- **ドキュメント**: 公開メソッドには Google スタイルの docstring を記述すること。

## 命名規則

- **変数・関数**: `snake_case`
- **クラス**: `PascalCase`
- **定数**: `UPPER_SNAKE_CASE`
- **プライベート変数/メソッド**: 先頭にアンダースコアを付与（例: `_internal_method`）

## フォーマット

- **Black**: コードフォーマッターとして `black` を使用（行長 120）。
- **Flake8**: リンターとして `flake8` を使用。
- **インポート順序**: 標準ライブラリ、サードパーティ、ローカルモジュールの順に並べ、それぞれ空行で区切る。

## エージェント開発のルール

- **プロンプトの分離**: プロンプトは Python コード内にハードコードせず、`src/.../resources/` 内の Markdown ファイルとして管理すること。
- **ADK の活用**: エージェント間の通信や状態管理には Google ADK の仕組みを優先的に使用すること。

## 修正後の確認

コードを修正した後は、必ず以下のコマンドを実行して、Lint エラーやテストの失敗がないことを確認してください。

```bash
# フォーマット (black)
uv run black .

# リント (flake8)
uv run flake8

# 型チェック (mypy)
uv run mypy .

# テスト (pytest)
uv run pytest
```
