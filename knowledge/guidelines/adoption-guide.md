# 理想的な導入ガイド: Terraformer を最大化する

このガイドは、Terraformer をプロジェクトへ導入するための推奨ワークフローをまとめたものです。これらの手順に従うことで、AI エージェントが Day 1 から効果的に協働できる、高コンテキストな環境を構築できます。

## フェーズ 0: 準備（Terraforming 前）

AI エージェントは **明示的コンテキスト（Explicit Context）** に依存します。到着前に提供する情報が多いほど、より賢く動けます。

1.  **既存知識を収集する**

- 既存の設計ドキュメント、API 仕様、DB スキーマ、外部ドキュメント URL を探す。
- **アクション**: これらのファイルをリポジトリにコミットする（例: `docs/` や `references/` フォルダ）。

2.  **インデックスを作成する（「クロール可能」なルート）**

- AI エージェントは通常、プロジェクトルートからスキャンを開始します。
- **アクション**: ルートの `README.md` を更新し、手順 1 で集めたドキュメントへのリンクを追加する。
- _なぜ？_ ルート（または標準的な場所）からリンクされていないと、エージェントが見落とす可能性があります。

## フェーズ 1: Terraforming（インストール）

[README](../../README.md) の標準インストール手順に従ってください。

1.  **インストール**: `.github` と `knowledge` ディレクトリをコピーする。
2.  **コンテキスト初期化**: `/terraform-context` を実行し、初期 `AGENTS.md` を生成する。
3.  **エージェント召喚**: `/terraformer` を実行し、プロジェクト固有のエージェント人格とスキルを生成する。

### Terraformed プロジェクトの構造

インストール後のプロジェクト構造は次のようになります:

```
my-project/
├── .github/
│   ├── agents/          # (Generated) Active agents for this project (e.g., architect.agent.md)
│   ├── prompts/         # (Generated) Skills and SOPs (e.g., plan.prompt.md)
│   └── ...              # Templates used by the meta-engine
├── knowledge/           # (Static) Universal knowledge from Terraformer
│   ├── guidelines/      # AI Literacy, Review Guidelines, etc.
│   └── ...
├── docs/                # (Dynamic) Project-specific documentation (Context Map)
│   ├── rules/           # Project rules (naming conventions, local workflows)
│   ├── specs/           # Feature specifications
│   └── ...
└── AGENTS.md            # (Dynamic) The Constitution & Context Map
```

## フェーズ 2: 洗練（Terraforming 後）

「AI チーム」がインストールされたので、彼らを使ってプロジェクトの「AI-Ready 度」を高めます。

### 1. 暗黙仕様の発掘

レガシーコードには、ドキュメント化されていないビジネスルールが含まれていることがよくあります。

- **アクション**: `@BusinessAnalyst` に主要ファイルから仕様をリバースエンジニアリングさせる。
  - _プロンプト_: "`src/core/pricing.ts` を分析し、価格ロジックをユーザーストーリーとして `docs/specs/pricing.md` にドキュメント化してください。"

### 2. ドキュメントの更新と詳細化

自動生成ドキュメントは出発点です。より豊かにしていきます。

- **アクション**: `@Architect` に図を生成させる。
  - _プロンプト_: "現在のコードに基づいて、認証フローを示す Mermaid シーケンス図を作成してください。"

### 3. プロジェクトルールの定義

すべてのプロジェクトには固有の規約（命名、テスト、ディレクトリ構造）があります。

- **アクション**: これらを `docs/rules/` に記録するか、`AGENTS.md`（憲法）に追加する。
- _ヒント_: エージェントがミスをした場合、コードを直すだけでなく **プロンプト（指示）を直す**。再発しないようにルールを追加します。

### 4. 協働ワークフローの確立

「指示と統制（Command & Control）」から「協働（collaboration）」へ移行します。

- プロジェクトの進化に合わせて `AGENTS.md` を定期的に更新します。

> **目標**: 最終目標は、**Documentation is the Source Code（ドキュメントこそがソースコードである）** と言えるリポジトリを持つことです。どんな開発者（人間/AI）でも、ドキュメントを読めば推測なしにシステムがどう動くかを正確に理解できる状態を目指します。

## 付録: Knowledge と Docs の違い

混乱を防ぐため、「普遍原則」と「プロジェクト固有の現実」を分離します。

| ディレクトリ     | タイプ               | 説明                                                                                                                                                                                                                        |
| :--------------- | :------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`knowledge/`** | **不変（ほとんど）** | ANTP メソッドの「教科書」を含みます。これらのファイル（_AI Literacy_ や _Review Guidelines_ など）は汎用で、_あらゆる_ プロジェクトに適用できます。通常は、メソッドそのものをカスタマイズする場合を除き、**編集しません**。 |
| **`docs/`**      | **可変**             | _あなた_ のプロジェクトの「状態」を含みます。仕様、アーキテクチャ図、プロジェクト固有のルール（`docs/rules/`）を書く場所です。**エージェントはここで作業します。**                                                          |
