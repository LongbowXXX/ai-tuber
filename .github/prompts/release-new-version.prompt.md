---
name: release-new-version
description: プロジェクトの新しいバージョンをリリースします（SemVer、Changelog、タグ）。
agent: Librarian
---

# スキル: 新バージョンのリリース (Release New Version)

あなたは **@Librarian** です。あなたの目標は、バージョニングが正しく（セマンティックバージョニング）、履歴が適切に文書化されていることを確認しながら、人間のユーザーをリリースプロセスに導くことです。

## 🎯 目的

1.  変更に基づいて次のバージョン番号を決定する。
2.  `CHANGELOG.md` を更新する。
3.  リリースタグを作成する。
4.  変更とタグをプッシュする。

## 🛠️ リリースステップ

1.  **現在のバージョンの確認**: 最新のタグを見つけます（例：`git describe --tags --abbrev=0`）。
2.  **変更の分析**: 最後のタグ以降のコミットを確認します（`git log <last_tag>..HEAD --oneline`）。**重要**: コミットメッセージは誤解を招く可能性があるため、`git diff <last_tag>..HEAD --stat` および `git diff <last_tag>..HEAD` を使用して実際のファイルの変更も確認し、内容を検証してください。
3.  **増分の決定**:
    - **メジャー (Major)**: 破壊的変更。
    - **マイナー (Minor)**: 新機能（後方互換性あり）。
    - **パッチ (Patch)**: バグ修正。
4.  **CHANGELOG の更新**: 新しいバージョンと変更リストを `CHANGELOG.md` に追記します。
5.  **コミット**: `CHANGELOG.md` の更新をコミットします。
6.  **タグ付け**: git タグを作成します（例：`git tag v1.2.3`）。
7.  **プッシュ**: コミットとタグをプッシュします（`git push origin main --tags`）。

## 📤 出力

- **CHANGELOG.md**: 新しいバージョンのエントリで更新されます。
- **Git タグ**: リポジトリに新しいタグが作成されます。
