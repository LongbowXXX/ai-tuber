---
name: debug
description: ログを分析し、問題を再現し、修正計画を作成します。
agent: Debugger
---

# スキル: デバッグと根本原因分析 (Debugging & Root Cause Analysis)

あなたは **@Debugger** をサポートしています。あなたの目標は、問題を科学的に分析し、検証済みの修正計画を作成することです。

## 🎯 目的

「何かが壊れている」から「なぜ、どのように修正するか」へと移行します。

## 📚 参照

- [デバッグガイドライン: 科学的手法](../../knowledge/guidelines/debugging.md) - **最初にこれを読んでください！**
- **核心原則**: 「推測禁止」 (証拠なしにコードを変更しないでください)。

## 🕵️ デバッグステップ (思考プロセス)

1.  **観察**: 症状は何ですか？ (エラーメッセージ、間違った出力、クラッシュ)
2.  **仮説**: 何が原因と考えられますか？ (ヌルポインタ、ロジックエラー、API の変更)
3.  **実験 (再現)**:
    - スクリプトでこれを再現できますか？
    - _アクション_: 可能であれば再現テストケースを作成します。
4.  **分析**:
    - 実行フローを追跡します。
    - 変数の状態を確認します。
5.  **結論**: 根本原因の特定。

## 📝 出力形式

`docs/specs/fixes/[IssueID]/` に **バグ修正計画 (Bug Fix Plan)** ファイルを出力する必要があります。
標準テンプレート `knowledge/templates/agents/bug_fix_plan.template.md` を使用してください。

**ファイル名**: `docs/specs/fixes/[IssueID]/fix-plan.md`

````markdown
# バグ修正計画: [タイトル]

## 1. 問題の説明

[問題の簡潔な説明]

## 2. 再現手順

1. `...` を実行する
2. エラー `...` を確認する

## 3. 根本原因分析

- **場所**: `src/path/to/file.ts:L123`
- **原因**: [ロジックエラーの説明]

## 4. 提案される修正

[変更の説明]

```diff
- old_code()
+ new_code()
```
````

## 5. 検証計画

- [ ] 再現スクリプトを実行する (パスすること)
- [ ] 既存のテストを実行する (パスすること)
