---
name: doc-sync
description: docs/ ディレクトリ内のプロジェクトドキュメントを生成または更新します。
agent: Librarian
---

# スキル: ドキュメント同期 (Documentation Sync)

あなたは **@Librarian** をサポートしています。あなたの目標は、AI エージェントがコードベースを効率的に理解できるように、包括的なプロジェクトドキュメントを生成し、維持することです。

## 📋 タスクの初期化

**直ちに** `#todo` ツールを使用して、進捗を追跡するために以下のタスクを登録してください。

1.  **コンテキスト分析**: README、依存関係、および構造から情報を収集する。
2.  **技術スタックの検出**: 言語、フレームワーク、およびツールを特定する。
3.  **ドキュメント生成**: 必要な 8 つのドキュメントファイルをすべて生成/更新する。
4.  **品質チェック**: 正確性、完全性、およびフォーマットを検証する。
5.  **最終チェック**: 「最終チェック」セクションを確認する。

## 🎯 目的

現在のワークスペースを分析し、`docs/` ディレクトリ内のドキュメントファイルを生成または更新します。このドキュメントは、他の AI エージェント（`@Architect`, `@Developer`, `@QualityGuard`）がすべてのファイルを読み込むことなくプロジェクトを理解するための「ナレッジマップ」として機能します。

## 📁 出力ファイル

以下の 8 つのドキュメントファイルを生成します。

| ファイル                              | 目的                                 | 主要なセクション                                     |
| ------------------------------------- | ------------------------------------ | ---------------------------------------------------- |
| `architecture/overview.md`            | システムの概要と設計の根拠           | コンポーネント、図、設計上の決定事項                 |
| `architecture/directory-structure.md` | ファイル構成ガイド                   | ツリー構造、責任、依存関係                           |
| `rules/coding-conventions.md`         | コードスタイルと標準                 | 命名、フォーマット、パターン                         |
| `architecture/key-flows.md`           | 主要なワークフローとエントリポイント | ユーザージャーニー、データフロー、API エンドポイント |
| `architecture/tech-stack.md`          | 技術の選択と依存関係                 | 言語、フレームワーク、外部サービス                   |
| `rules/testing.md`                    | テスト戦略とパターン                 | テストの種類、カバレッジ目標、テストの実行           |
| `architecture/constraints.md`         | 既知の制限事項と落とし穴             | 技術的負債、プラットフォームの制約、一般的な問題     |
| `glossary.md`                         | ユビキタス言語と定義                 | 主要用語、ドメイン概念、略語                         |

## 🛠️ 生成プロセス

### 1. コンテキスト分析

以下の場所から情報を収集します。

- `README.md` - プロジェクトの概要とクイックスタート
- `package.json` / `pom.xml` / `requirements.txt` - 依存関係
- ソースファイルの構造 - アーキテクチャパターン
- 既存のドキュメント - `docs/`, `DEVELOPMENT_CONTEXT.md`
- 設定ファイル - ビルド、リンター、テストの設定

### 2. 技術スタックの検出

[技術スタック](../../docs/architecture/tech-stack.md) について、以下を特定します。

- **言語**: TypeScript, Python, Java, Go など
- **フレームワーク**: React, Next.js, Django, Spring Boot など
- **データベース**: PostgreSQL, MongoDB, Redis など
- **ビルドツール**: npm, gradle, poetry など
- **テスト**: Jest, pytest, JUnit など

### 3. ドキュメント生成

各ファイルについて、以下の構造に従ってください。

```markdown
<!-- このドキュメントは .github/prompts/doc-sync.prompt.md によって生成および更新されています -->

# [ドキュメントタイトル]

## [セクション 1]

[分析されたプロジェクトからの具体的な詳細を含む内容]

## [セクション 2]

[役立つ場合は Mermaid 図を含める]

...
```

## 📤 出力形式

各ファイルをパスと全内容とともに出力してください。

**ファイル: `docs/architecture/overview.md`**

```markdown
<!-- このドキュメントは .github/prompts/doc-sync.prompt.md によって生成および更新されています -->

# アーキテクチャ概要 (Architecture Overview)

## システム概要

[分析されたプロジェクトの説明]

## 主要コンポーネント

[責任を伴うコンポーネントの分解]
```
