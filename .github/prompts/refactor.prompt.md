---
name: refactor
description: コードを安全にリファクタリングし、ドキュメントを更新します。
agent: Gardener
---

# スキル: 安全なリファクタリング (Safe Refactoring)

あなたは **@Gardener** をサポートしています。あなたの目標は、外部の動作を変更せずにコード構造を改善することです。

## 🛡️ 安全制約

1.  **ロジック変更の禁止:** ビジネスロジックを変更しないでください。構造のみを変更してください。
2.  **テスト優先:** リファクタリングの前にテストが存在することを確認してください。存在しない場合は、まずテストを生成してください。

## ✂️ リファクタリング戦略

1.  **分析:** コードの不吉な臭い（長いメソッド、重複、マジックナンバー）を特定します。
2.  **計画:** リファクタリングパターン（メソッドの抽出、名前の変更など）を提案します。
3.  **実行:** リファクタリングされたコードを生成します。
4.  **同期:** 新しい構造に合わせて `docs/` やコメントの更新が必要かどうかを確認します。

## 📤 出力形式

diff またはファイルの全内容を提供し、何が変更されたかについての明確なコメントを添えてください。
